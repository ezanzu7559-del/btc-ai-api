# btc-ai-api

一个简易的命令行工具和网页面板，用于从 CoinGecko 拉取近实时比特币行情，计算基础指标，并给出基于均线与波动率的参考信号。**仅供学习交流，不构成投资建议。**

## 功能
- 请求最近若干小时的比特币分钟级价格。
- 计算 20/60 均线、简单波动率与短期涨跌幅。
- 给出偏多/偏空/中性提示，并附带风险提示。
- 支持定时轮询，默认每 60 秒更新一次。
- 新增网页面板，自动轮询并以卡片形式展示指标与信号。

## 安装
无需额外三方依赖，使用标准库即可运行；如果希望明确依赖列表，可选执行 `pip install -r requirements.txt`。

## 使用
单次拉取并输出信号：
```bash
python -m btc_ai_api --hours 6 --iterations 1
```

持续轮询（直到 Ctrl+C）：
```bash
python -m btc_ai_api --interval 60 --iterations 0
```

启动网页面板（默认 http://127.0.0.1:8000）：
```bash
python -m btc_ai_api.web --host 0.0.0.0 --port 8000 --hours 6
```
打开浏览器即可看到仪表盘，前端会每 60 秒自动刷新一次，也可以点击“手动刷新”。

## 输出示例
```
[2024-01-01T12:00:00.000000Z] 现价: $45000.12
短均(20): $44980.10 | 长均(60): $44750.01
变动: 0.25% | 波动率(近60): 120.33
信号: 偏多 — 短期均线上穿长期均线，动能向上；波动率升高，需控制仓位
⚠️ 以上信号基于公开数据与简单指标，仅供参考，不构成投资建议；数字资产波动大，请自行评估风险。
```

## 开发
核心代码位于 `btc_ai_api/`：
- `data.py`：请求并解析 CoinGecko 市场数据。
- `indicators.py`：计算均线、波动率等指标。
- `analyzer.py`：根据指标生成信号文本。
- `cli.py`：命令行入口与轮询逻辑。

### 运行简单检查
仓库包含基础的单元测试：
```bash
python -m unittest
```

## 免责声明
本工具仅为示例，输出内容不构成任何投资或交易建议。使用者需遵守所在地区法规，并自行承担风险。
